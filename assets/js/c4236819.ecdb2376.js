"use strict";(self.webpackChunkmetapage_docs=self.webpackChunkmetapage_docs||[]).push([[7915],{9613:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var r=a(9496);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var m=r.createContext({}),l=function(e){var t=r.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return r.createElement(m.Provider,{value:t},e.children)},f="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,m=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),f=l(a),c=n,u=f["".concat(m,".").concat(c)]||f[c]||d[c]||o;return a?r.createElement(u,i(i({ref:t},p),{},{components:a})):r.createElement(u,i({ref:t},p))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=c;var s={};for(var m in t)hasOwnProperty.call(t,m)&&(s[m]=t[m]);s.originalType=e,s[f]="string"==typeof e?e:n,i[1]=s;for(var l=2;l<o;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},8425:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=a(1163),n=(a(9496),a(9613));const o={title:"Embed metapages into your app",sidebar_position:0,slug:"/embed"},i=void 0,s={unversionedId:"Embed/embed",id:"Embed/embed",title:"Embed metapages into your app",description:"This page is meant for developers, with some coding knowledge, or those who build web apps/sites",source:"@site/docs/Embed/embed.mdx",sourceDirName:"Embed",slug:"/embed",permalink:"/docs/embed",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Embed metapages into your app",sidebar_position:0,slug:"/embed"},sidebar:"tutorialSidebar",previous:{title:"Create a metaframe",permalink:"/docs/create-metaframe"},next:{title:"Embed a metaframe in a react app",permalink:"/docs/embed-metaframe"}},m={},l=[{value:"<strong>Embed metapages in your site (links to code examples)</strong>",id:"4d58288979954add8d83b1f337c919b1",level:3},{value:"Links to code example",id:"0ba26708b1eb4296bab40fd139307271",level:3}],p={toc:l},f="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(f,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"This page is meant for developers, with some coding knowledge, or those who build web apps/sites")),(0,n.kt)("h3",{id:"4d58288979954add8d83b1f337c919b1"},(0,n.kt)("strong",{parentName:"h3"},"Embed metapages in your site (links to code examples)")),(0,n.kt)("p",null,"Embedding a metapage/frame means you get a complete, functional, already-deployed piece of software that takes a few lines of code to add to your own app."),(0,n.kt)("p",null,"One way to think about embedding metapages is that each metaframe is a web component with inputs and outputs."),(0,n.kt)("p",null,"You can wire them up together with the metapage library, or even stitch them together yourself in your own app, if that makes more sense for you use cases."),(0,n.kt)("p",null,"Developer advantages:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Embed visual modules like the ",(0,n.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/monaco-editor"},"monaco code editor")," with a few lines of code",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/monaco-editor"},"monaco module")," requires various complex and specific workarounds for various build tools (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/microsoft/monaco-editor/blob/main/docs/integrate-esm.md"},"webpack"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/vitejs/vite/discussions/1791"},"vite"),", etc)"),(0,n.kt)("li",{parentName:"ul"},"The component is only loaded when shown to the user, so no assets are downloaded if the component is not used in your app"))),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},"metaframes")," in the ",(0,n.kt)("inlineCode",{parentName:"li"},"metapage")," are iframes, and communicate using the web standard ",(0,n.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage"},"postMessage"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"This means they are security isolated:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"If there is malicious code in a metaframe, it is very difficult for it to interfere with your main app code, as the only way to access the parent (your app) is via the secured ",(0,n.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage"},"postMessage")," system (metapages control who can send messages)"),(0,n.kt)("li",{parentName:"ul"},"The code running in metaframes")))))),(0,n.kt)("div",{className:"custom-docunotion-row"}),(0,n.kt)("p",null,"A single metapage"),(0,n.kt)("p",null,"Metapage plus editor"),(0,n.kt)("h3",{id:"0ba26708b1eb4296bab40fd139307271"},"Links to code example"),(0,n.kt)("p",null,"A single metaframe:"),(0,n.kt)("mermaid",{value:"flowchart TD\n    subgraph test [your-site.com]\n        direction LR\n        style js fill:#fff,stroke:#fff,stroke-width:2px\n        style metaframe fill:#fff,stroke:#32AEE4,stroke-width:2px\n        js[your javascript] <--\x3e |messages| metaframe[Single Metaframe]\n    end"}),(0,n.kt)("p",null,"A single metapage:"),(0,n.kt)("mermaid",{value:"flowchart LR\n    subgraph test [your-site.com]\n        direction TB\n\n        style js fill:#fff,stroke:#fff,stroke-width:2px\n        style mf1 fill:#fff,stroke:#32AEE4,stroke-width:2px\n        style mf2 fill:#fff,stroke:#32AEE4,stroke-width:2px\n        style mf3 fill:#fff,stroke:#32AEE4,stroke-width:2px\n\n        subgraph metapage [metapage]\n\n            mf1[metaframe 1] --\x3e mf2[metaframe 2]\n            mf2 --\x3e mf3[metaframe 3]\n            mf1 --\x3e mf3\n        end\n        js[ javascript] <--\x3e |messages| metapage\n    end"}),(0,n.kt)("p",null,"Metapage plus editor:"),(0,n.kt)("mermaid",{value:"flowchart LR\n    style metaframes fill:#fff,stroke:#32AEE4,stroke-width:2px\n    style metapages fill:#fff,stroke:#32AEE4,stroke-width:2px\n    style mf1 fill:#fff,stroke:#32AEE4,stroke-width:2px\n    style mf2 fill:#fff,stroke:#32AEE4,stroke-width:2px\n    style mf3 fill:#fff,stroke:#32AEE4,stroke-width:2px\n\n    subgraph test [your-site.com]\n        direction LR\n\n        subgraph gallery [gallery.metapage.io]\n            direction LR\n            metaframes[...metaframes]\n            metapages[...metapages]\n        end\n        subgraph metapage [metapage]\n\n            mf1[metaframe 1] --\x3e mf2[metaframe 2]\n            mf2 --\x3e mf3[metaframe 3]\n            mf1 --\x3e mf3\n        end\n\n        gallery --\x3e |add from gallery| metapage\n    end"}))}d.isMDXComponent=!0}}]);