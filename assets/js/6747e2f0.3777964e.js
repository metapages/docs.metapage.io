"use strict";(self.webpackChunkmetapage_docs=self.webpackChunkmetapage_docs||[]).push([[6246],{5954:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var o=n(1527),i=n(3703);const a={title:"Working with docker metaframes",sidebar_position:3,slug:"/working-with-docker-metaframes",authors:"karl"},r=void 0,s={id:"Getting-Started/working-with-docker-metaframes",title:"Working with docker metaframes",description:"Now that you know how to create simple metapages, from adding metaframes and constructing data connections between them, to uploading and displaying images and running python with pyodide and displaying its output in a linked metaframe, we will now learn how to use one of the most powerful tools in metapages, the Docker metaframe. In basic terms, Docker is a technology that allows you to create and run virtual computer systems within any other system. This is powerful because in this system, called a container, you can install exactly the software needed to run code, and the same docker container is identical no matter what system it is run on, so your code will always work, no matter where or when you run it. This powerful technology can be leveraged in metaframes with custom docker containers or configurations, allowing you to run virtually any code you can imagine. The applications are endless! To get you started with Docker in metaframes, let\u2019s go through the simple example of creating a word cloud with python.",source:"@site/docs/Getting-Started/working-with-docker-metaframes.mdx",sourceDirName:"Getting-Started",slug:"/working-with-docker-metaframes",permalink:"/docs/working-with-docker-metaframes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Working with docker metaframes",sidebar_position:3,slug:"/working-with-docker-metaframes",authors:"karl"},sidebar:"tutorialSidebar",previous:{title:"Running Python with Pyodide",permalink:"/docs/python-pyodide-walkthrough"}},c={},d=[];function l(e){const t={img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Now that you know how to create simple metapages, from adding metaframes and constructing data connections between them, to uploading and displaying images and running python with pyodide and displaying its output in a linked metaframe, we will now learn how to use one of the most powerful tools in metapages, the Docker metaframe. In basic terms, Docker is a technology that allows you to create and run virtual computer systems within any other system. This is powerful because in this system, called a container, you can install exactly the software needed to run code, and the same docker container is identical no matter what system it is run on, so your code will always work, no matter where or when you run it. This powerful technology can be leveraged in metaframes with custom docker containers or configurations, allowing you to run virtually any code you can imagine. The applications are endless! To get you started with Docker in metaframes, let\u2019s go through the simple example of creating a word cloud with python."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 1:"})," As done in the previous tutorials, create a new metapage. We will call ours \u201cWord Cloud with Docker\u201d"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(6613).Z+"",width:"866",height:"364"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 2:"})," We will use four metaframes to construct this metapage. Two \u201cText Editor\u201d metaframes, one \u201cShow Image\u201d, and one \u201cDocker\u201d metaframe. To add these, enter Edit mode, use the search bar to find them (the official versions should have the \u201cbase\u201d tag), and add them to the metapage with the Add button. Feel free to resize and rearrange the metaframes before exiting Edit mode according to your preferences."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(3486).Z+"",width:"903",height:"886"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 3:"})," We will use the \u201dText Editor\u201d metaframe for the text input to the word cloud and \u201cText Editor-1\u201d for the python code to create the word cloud. The \u201cDocker\u201d metaframe will run the python code in a docker container using the input text and produce a word cloud image which will be displayed in the \u201cShow Image\u201d metaframe. Let\u2019s now create the necessary data connections between the metaframes. To do this, click on \u201cData flow\u201d, and then follow the steps below."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(7937).Z+"",width:"623",height:"503"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 3a:"})," We first want to connect the input text from \u201cText Editor\u201d to \u201cDocker\u201d. To do this, first click on Docker to open the connection dialog box. We will provide the text to Docker as an input file called \u201cinput.txt\u201d.  Under Source Metaframe click \u201cText Editor\u201d to select it. Then under outputs click on the box labeled \u201ctext\u201d. Under inputs, click Add, then type \u201cinput.txt\u201d (without the quotes) followed by Enter. Click OK to proceed."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(8041).Z+"",width:"498",height:"309"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 3b:"})," Repeat the procedure from 3a to provide the text from \u201cText Editor-1\u201d to docker as a file called \u201cgenerate_wordcloud.py\u201d. It should look like the image below when finished."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(5504).Z+"",width:"568",height:"295"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 3c:"})," Finally, connect the output image from Docker to the \u201cShow Image\u201d metaframe. Click on \u201cShow Image\u201d, ensure \u201cDocker\u201d is listed as the Source Metaframe, then add \u201cwordcloud.png\u201d as the output as input. It should now look like this."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(290).Z+"",width:"996",height:"202"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Step 4:"})," Now that we\u2019ve added our metaframes and connected them together let\u2019s begin adding the content and configuring our metaframes. First we need some content to create our word cloud. This can be whatever you want, but for this example we\u2019ve taken the first few paragraphs from the Docker Wikipedia page. First return to View mode, and then add your content to the \u201cText Editor\u201d metaframe."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(4631).Z+"",width:"783",height:"524"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"I think I understand that under docker image, \u201cUse existing image\u201d will take the image name from docker hub."}),"\n",(0,o.jsxs)(t.li,{children:["Build Image from Repo:","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"You can specify the Dockerfile by clicking edit next to Dockerfile"}),"\n",(0,o.jsx)(t.li,{children:"What does Git Repo URL do? Just clone the repo into the home directory? You could also clone the repo, or multiple repos in the Dockerfile, so I\u2019m not sure if this makes sense."}),"\n",(0,o.jsx)(t.li,{children:"Why do we need to specify a Dockerfile Name?"}),"\n",(0,o.jsx)(t.li,{children:"What is Target?"}),"\n",(0,o.jsx)(t.li,{children:"Build Args? (ohhh is that like the flags we would specify in the docker build command?)"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["Configure Job","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Container Settings","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Command \u2014 this is the shell script that we want to run as soon as we enter the docker container? Can we run several scripts if we separate them by a semicolon?"}),"\n",(0,o.jsx)(t.li,{children:"Entrypoint?"}),"\n",(0,o.jsx)(t.li,{children:"Workdir?"}),"\n",(0,o.jsx)(t.li,{}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},6613:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.104c69d0-ca1d-4ba7-b17b-75c29af6f242-727ac1e2e5a2519d7c0c6e6c00b09515.png"},8041:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.28bb4c31-a836-47d6-bbd0-ee6fb57ff888-c03831237c556e9a72b89017c320ebf6.png"},5504:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.8fd7dbd4-f319-4757-b41e-2e90e94852e0-be6174c624240a891611c8849328955d.png"},7937:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.aceabc76-229d-4e46-a366-4aca3f96c619-bae2cba53b59d24de08846a98a1be339.png"},3486:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.b44c6bbb-055e-4d78-b1b2-668efb185a35-f4809250ccedbb94f388a29e3160c4ba.png"},290:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.ce52cf3d-7e78-431a-81d3-6a3840ab9fd3-cbe5a36a3f828293ba00da3b1d1f5df1.png"},4631:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/working-with-docker-metaframes.d56ed3d2-0ad9-4354-8ee3-b896ef568597-5e83192f0ccf517c539333f5ae72f616.png"},3703:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>r});var o=n(959);const i={},a=o.createContext(i);function r(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);