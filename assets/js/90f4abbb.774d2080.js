"use strict";(self.webpackChunkmetapage_docs=self.webpackChunkmetapage_docs||[]).push([[279],{33222:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Getting-Started/python-container-walkthrough","title":"Running Python in a Container","description":"You can write python scripts or snippets and run the code in container metaframes. You can define your own docker images and automatically build images from git repos, and publish or share any of these tools.","source":"@site/docs/Getting-Started/python-container-walkthrough.mdx","sourceDirName":"Getting-Started","slug":"/python-container-walkthrough","permalink":"/docs/python-container-walkthrough","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Running Python in a Container","sidebar_position":2,"slug":"/python-container-walkthrough","authors":["dion"]},"sidebar":"tutorialSidebar","previous":{"title":"Creating your first metapage","permalink":"/docs/your-first-metapage"},"next":{"title":"Connect Outputs \u2192 Inputs","permalink":"/docs/connect-inputs-outputs"}}');var a=n(74848),s=n(28453);const i={title:"Running Python in a Container",sidebar_position:2,slug:"/python-container-walkthrough",authors:["dion"]},c=void 0,r={},d=[];function h(e){const t={a:"a",code:"code",em:"em",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"You can write python scripts or snippets and run the code in container metaframes. You can define your own docker images and automatically build images from git repos, and publish or share any of these tools."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 1:"})," From the ",(0,a.jsx)(t.a,{href:"http://metapage.io/",children:"metapage.io"})," homepage, create a new metapage using the ",(0,a.jsx)(t.code,{children:"+ New"})," button and giving the metapage a name. We call it \u201cPython metapage\u201d here."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(64326).A+"",width:"2534",height:"344"})}),"\n",(0,a.jsx)(t.p,{children:"**Step 2: \u201c**Add from search\u201d, then search for \u201cmatplotlib\u201d, select it, and add to the page with the \u201c+ Add\u201d button. The metaframe should now display on the metapage:"}),"\n",(0,a.jsxs)("div",{className:"custom-docunotion-row",children:[(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(73232).A+"",width:"714",height:"856"})})})}),(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(45268).A+"",width:"2334",height:"1356"})})})})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 3:"})," You should see python code for plotting a matplotlib image. But no image yet, we will get to that below."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(52932).A+"",width:"2508",height:"1196"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 4:"})," Let\u2019s edit the code. We will generate some noisy data, export a plot and then view that plot with the ",(0,a.jsx)(t.code,{children:"Show Image"})," frame. Copy ",(0,a.jsx)(t.em,{children:"the code below into the editor of the python metaframe."})," In this code, we generate data points on a line with some noise added, create a plot of these points with matplotlib, and finally map the generated image to the metaframe\u2019s output."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'import matplotlib.pyplot as plt\nimport numpy as np\n\n# Generate data from a y=x line with noise\nx_line = np.linspace(0, 1, 20)\ny_line = x_line + np.random.normal(scale=0.1, size=x_line.shape)\n#print(x_line, y_line)\n\n# Create a scatter plot for the y=x line with noise\nplt.figure(figsize=(10, 6))\nplt.scatter(x_line, y_line, color=\'blue\')\n\n# Add labels and title\nplt.title("Noisy Line Scatterplot (y = x + noise)")\nplt.xlabel("X-axis")\nplt.ylabel("Y-axis")\n\nplt.savefig(\'/outputs/plot.png\')\n\nprint("Sent plot.png!")\n\n# Close the current active figure\nplt.close()\n'})}),"\n",(0,a.jsx)(t.p,{children:"Result: Job Complete"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(97897).A+"",width:"2492",height:"294"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 7:"})," If the code runs correctly you should see Sent image1.png! to the right of the code (and three output files indicated by the ",(0,a.jsx)(t.code,{children:"3"})," in green at the top right)."]}),"\n",(0,a.jsx)(t.p,{children:"Now if we want to actually view the image we need to create a \u201cShow Image\u201d metaframe and perform a data connection. Instead of adding via the \u201c+Add\u201d button and modal, you can also add from the gallery."}),"\n",(0,a.jsxs)("div",{className:"custom-docunotion-row",children:[(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:"To do this, use the search bar to find the \u201cShow Image\u201d metaframe:"})}),(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(15858).A+"",width:"1426",height:"688"})})})})]}),"\n",(0,a.jsxs)("div",{className:"custom-docunotion-row",children:[(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:"and add it using the \u201c+Add to Metapage\u201d via the dropdown"})}),(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(26718).A+"",width:"1012",height:"546"})})})})]}),"\n",(0,a.jsxs)("div",{className:"custom-docunotion-row",children:[(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:"Resize to fit better"})}),(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(85016).A+"",width:"480",height:"390"})})})})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 8:"})," Let\u2019s make the data connection. Click on the \u201cData Flow\u201d button on the \u201cShow Image\u201d metaframe. Connect the output ",(0,a.jsx)(t.code,{children:"plot.png"})," by clicking on it. That will create connection from the python container to the image viewer, and automatically send the ",(0,a.jsx)(t.code,{children:"plot.png"}),". For more detail about connections ",(0,a.jsx)(t.a,{href:"/docs/connect-inputs-outputs",children:"click here"}),"."]}),"\n",(0,a.jsxs)("div",{className:"custom-docunotion-row",children:[(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(85419).A+"",width:"480",height:"390"})})})}),(0,a.jsx)("div",{className:"custom-docunotion-row-cell",children:(0,a.jsx)("p",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(59356).A+"",width:"1910",height:"1548"})})})})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Step 10:"})," Click ",(0,a.jsx)(t.code,{children:"Save"}),". You should now see the plot displayed in your \u201cShow Image\u201d metaframe."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:n(99747).A+"",width:"1838",height:"1118"})}),"\n",(0,a.jsx)(t.p,{children:"Congratulations on creating your first metapage that runs python code and displays a plot of its output!"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://metapage.io/dion/Python-metapage-d045e8a6dbdd4364b4dd72b58e5a8fc0",children:"Solution"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},45268:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-8007-be8e-ffbedabb6d97-2ada29dd247095ecffcd41d13f0ec574.png"},85016:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-801f-8a59-c8ed2a0e36fd-4e5aa971cd0fbff5034efda0f4886100.gif"},85419:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-8031-84ec-de4deafe85c2-016286ab4c4e1b07b4e61f4dfd484eb5.gif"},97897:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-8039-99cd-cd9812454493-91d88f12c1e2d1ef5e0f0a10f78dc47d.png"},64326:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-8064-8cae-feff4b605cee-44ea7a7e45cb1c49e0d46a3ad493efcc.png"},99747:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-8071-9153-c74001c2cb75-9152d8cea4134957577a52ac29955528.png"},26718:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-80b7-8537-ec0e6a1dca52-eebf7719a1396155becf043d14d7ceec.png"},73232:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-80c7-9705-d1b4393eccea-165feff1af203a5028dd55fcda4fdc30.png"},15858:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-80d8-b1ac-ca1f46715210-89eb32dba8a0be468f3f2cee392b22b7.png"},52932:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-80e1-9c4c-d6b8faff5c33-a1f7f6ce86ac88fedf194064f8e8fe6e.png"},59356:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/python-container-walkthrough.1a601857-9bb5-80f6-91be-d74f928773b2-991902e5cdaa3b1916774bdd1a3bc39b.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var o=n(96540);const a={},s=o.createContext(a);function i(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);