"use strict";(self.webpackChunkmetapage_docs=self.webpackChunkmetapage_docs||[]).push([[9593],{80271:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>l,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Containers/github-refs-in-URLs","title":"github refs in URLs","description":"182018579bb580c7a3f7f437181182e1}","source":"@site/docs/Containers/github-refs-in-URLs.mdx","sourceDirName":"Containers","slug":"/18201857-9bb5-8008-974f-d3068fa75507","permalink":"/docs/18201857-9bb5-8008-974f-d3068fa75507","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"github refs in URLs","sidebar_position":3,"slug":"/18201857-9bb5-8008-974f-d3068fa75507"},"sidebar":"tutorialSidebar","previous":{"title":"local","permalink":"/docs/container-local-mode"}}');var a=i(74848),c=i(28453);const r={title:"github refs in URLs",sidebar_position:3,slug:"/18201857-9bb5-8008-974f-d3068fa75507"},s="Build your github repo at an exact branch/tag/sha defined in the URL {#182018579bb580c7a3f7f437181182e1}",o={},d=[{value:"Hard code the git ref",id:"185018579bb5802abb1ce0b1cbcba0cb",level:2},{value:"Get the git ref from the main URL",id:"185018579bb5800ab026cc11ec310b39",level:2}];function f(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",mermaid:"mermaid",p:"p",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"182018579bb580c7a3f7f437181182e1",children:"Build your github repo at an exact branch/tag/sha defined in the URL"})}),"\n",(0,a.jsx)(t.mermaid,{value:'graph LR\n  containers["Metaframe: Containers"]\n  local["Local mode"]\n  remote["Remote mode"]\n  gitrefs["git refs in URLs"]\n\n  containers --\x3e remote  \n  containers --\x3e local\n  containers --\x3e gitrefs\n  click containers "/docs/containers"\n  click remote "/docs/container-remote-mode"\n  click local "/docs/container-local-mode"\n  click gitrefs "/docs/18201857-9bb5-8008-974f-d3068fa75507"\n  style gitrefs fill:#fff,stroke:#999999,stroke-width:2px,color:#000'}),"\n",(0,a.jsx)(t.h2,{id:"185018579bb5802abb1ce0b1cbcba0cb",children:"Hard code the git ref"}),"\n",(0,a.jsx)(t.p,{children:"This repo at this exact commit location:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://github.com/ulysseherbach/harissa/tree/affeff5e706b446358f4b619058c6e93afe8836f",children:"https://github.com/ulysseherbach/harissa/tree/affeff5e706b446358f4b619058c6e93afe8836f"})}),"\n",(0,a.jsxs)(t.p,{children:["can be set in the ",(0,a.jsx)(t.a,{href:"https://container.mtfm.io/#?autostart=true&job=JTdCJTIyYnVpbGQlMjIlM0ElN0IlMjJjb250ZXh0JTIyJTNBJTIyaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGdWx5c3NlaGVyYmFjaCUyRmhhcmlzc2ElMkZ0cmVlJTJGYWZmZWZmNWU3MDZiNDQ2MzU4ZjRiNjE5MDU4YzZlOTNhZmU4ODM2ZiUyMiUyQyUyMmRvY2tlcmZpbGUlMjIlM0ElMjJGUk9NJTIwcHl0aG9uJTNBMy4xMS42LXNsaW0tYm9va3dvcm0lNUNuJTVDblJVTiUyMHBpcCUyMGluc3RhbGwlMjBudW1weSUyMCUyNiUyNiUyMHBpcCUyMGluc3RhbGwlMjBzY2lweSUyMCUyNiUyNiUyMHBpcCUyMGluc3RhbGwlMjBoYXJpc3NhJTVDbiUyMiU3RCUyQyUyMmNvbW1hbmQlMjIlM0ElMjJscyUyMC1sYSUyMiU3RA%3D%3D&queue=local1",children:"container metaframe"}),":"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:i(9907).A+"",width:"1396",height:"598"})}),"\n",(0,a.jsxs)(t.p,{children:["But a more flexible way is to set the ",(0,a.jsx)(t.code,{children:"ref"})," in the URL:"]}),"\n",(0,a.jsx)(t.h2,{id:"185018579bb5800ab026cc11ec310b39",children:"Get the git ref from the main URL"}),"\n",(0,a.jsxs)(t.p,{children:["Append ",(0,a.jsx)(t.code,{children:"tree/${git-ref}"})," to your git repo URL:"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:i(90170).A+"",width:"1384",height:"204"})}),"\n",(0,a.jsxs)(t.p,{children:["The browser page metapage URL can then set a query parameter: ",(0,a.jsx)(t.code,{children:"?git-ref=affeff5e706b446358f4"}),"..."]}),"\n",(0,a.jsx)(t.p,{children:"e.g.:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://metapage.io/dion/dev-github-ref-c121806128c54f89b44e2af9a176bd9b?git-ref=affeff5e706b446358f4b619058c6e93afe8836f",children:"https://metapage.io/dion/dev-github-ref-c121806128c54f89b44e2af9a176bd9b?git-ref=affeff5e706b446358f4b619058c6e93afe8836f"})}),"\n",(0,a.jsxs)(t.p,{children:["The page URL ",(0,a.jsx)(t.code,{children:"git-ref"}),"  query param is then dynamically injected into to the container git repo URL, allowing you to create metapage URLs to specific branches, tags, and commit shas of github repositories."]}),"\n",(0,a.jsx)(t.p,{children:"This way the metapage is a \u201cview\u201d of the repo, with state, able to move along and view any part of the repo, simply via changing the URL"}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsx)(t.p,{children:"You are now in the driving seat of a repository"})})]})}function l(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(f,{...e})}):f(e)}},9907:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/18201857-9bb5-8008-974f-d3068fa75507.18501857-9bb5-8008-8948-fc09e0a2e16c-e6b4dda7539d9261b6f502b60e094e45.png"},90170:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/18201857-9bb5-8008-974f-d3068fa75507.18501857-9bb5-8018-b13a-efd0b7f29976-f49ed1c34fdfde70e8b4b33e020d50c9.png"},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>s});var n=i(96540);const a={},c=n.createContext(a);function r(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);