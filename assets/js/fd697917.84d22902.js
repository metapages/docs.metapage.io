"use strict";(self.webpackChunkmetapage_docs=self.webpackChunkmetapage_docs||[]).push([[1330],{18181:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Containers/container-cli-reference","title":"worker cli reference","description":"199018579bb580c8a23cea38b29e5b58}","source":"@site/docs/Containers/container-cli-reference.mdx","sourceDirName":"Containers","slug":"/container-cli-reference","permalink":"/docs/container-cli-reference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"worker cli reference","sidebar_position":3,"slug":"/container-cli-reference"},"sidebar":"tutorialSidebar","previous":{"title":"local","permalink":"/docs/container-local-mode"},"next":{"title":"github refs in URLs","permalink":"/docs/git-refs-in-urls"}}');var s=r(74848),c=r(28453);const o={title:"worker cli reference",sidebar_position:3,slug:"/container-cli-reference"},i="Env vars {#199018579bb580c8a23cea38b29e5b58}",d={},l=[];function a(e){const n={a:"a",code:"code",h1:"h1",header:"header",mermaid:"mermaid",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"199018579bb580c8a23cea38b29e5b58",children:"Env vars"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Env var"}),(0,s.jsx)(n.th,{children:"cli command example"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_CPUS"}),(0,s.jsx)(n.td,{children:"\u2014cpus 1"}),(0,s.jsx)(n.td,{children:"The max number CPU cores the worker will claim for jobs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_GPUS"}),(0,s.jsx)(n.td,{children:"\u2014gpus 1"}),(0,s.jsx)(n.td,{children:"The max number GPUs the worker will claim for jobs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_MODE"}),(0,s.jsxs)(n.td,{children:["\u2014mode ",(0,s.jsx)(n.code,{children:"local"})]}),(0,s.jsxs)(n.td,{children:["Default: ",(0,s.jsx)(n.code,{children:"remote"}),". ",(0,s.jsx)(n.code,{children:"remote"})," mode means the queue is in the cloud. ",(0,s.jsx)(n.code,{children:"local"})," means all compute runs on the local machine, no scaling possible, but does not require any external API."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_QUEUE"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"The queue the worker connects to for jobs to complete"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_PORT"}),(0,s.jsx)(n.td,{children:"\u2014port 8000"}),(0,s.jsxs)(n.td,{children:["Default: 8000. When in ",(0,s.jsx)(n.code,{children:"--mode local"}),", this is the port the worker uses to connect."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_API_ADDRESS"}),(0,s.jsxs)(n.td,{children:["\u2014api-address ",(0,s.jsx)(n.a,{href:"https://container.mtfm.io",children:"https://container.mtfm.io"})]}),(0,s.jsx)(n.td,{children:"Advanced or development use only. Allows connecting the worker to a different API queue server"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_GENERATE_WORKER_ID"}),(0,s.jsx)(n.td,{children:"None"}),(0,s.jsxs)(n.td,{children:["If set to ",(0,s.jsx)(n.code,{children:"true"})," then the worker will always generate a new unique id on every start."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"METAPAGE_IO_WORKER_RUN_STANDALONE"}),(0,s.jsx)(n.td,{children:"None"}),(0,s.jsx)(n.td,{children:"If set to true, will start a docker daemon process as a subprocess."})]})]})]}),"\n",(0,s.jsx)(n.mermaid,{value:'graph LR\n  containers["Metaframe: Containers"]\n  local["Local mode"]\n  remote["Remote mode"]\n  gitrefs["git refs in URLs"]\n\n  containers --\x3e remote  \n  containers --\x3e local\n  containers --\x3e gitrefs\n  click containers "/docs/containers"\n  click remote "/docs/container-remote-mode"\n  click local "/docs/container-local-mode"\n  click gitrefs "/docs/git-refs-in-urls"'})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var t=r(96540);const s={},c=t.createContext(s);function o(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);